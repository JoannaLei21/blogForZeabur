<!DOCTYPE html>
<html lang="en"
  x-data
  :class="$store.darkMode.class()"
  :data-theme="$store.darkMode.theme()">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Map  | Joanna&#39;s Blog</title>

    
<link href="/favicon.ico" rel="icon" type="image/x-icon" />


<link rel="canonical" href="/posts/18th-googlemap/" />



<meta name="author" content="Joanna Lei" />
<meta name="description" content="ä¸²æ¥Google Map é¡¯ç¤ºèšæœƒåœ°é»
" />


<meta name="keywords" content="Project">



<meta name="generator" content="Hugo 0.140.1">


<meta property="og:url" content="/posts/18th-googlemap/">
  <meta property="og:site_name" content="Joanna&#39;s Blog">
  <meta property="og:title" content="Google Map ">
  <meta property="og:description" content="ä¸²æ¥Google Map é¡¯ç¤ºèšæœƒåœ°é»">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-12-31T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-12-31T00:00:00+00:00">
    <meta property="article:tag" content="Project">




  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Google Map ">
  <meta name="twitter:description" content="ä¸²æ¥Google Map é¡¯ç¤ºèšæœƒåœ°é»">




  

<link rel="stylesheet" href="/css/output.min.css" />




    


<style>
  pre {
    padding: 1em;
    overflow: auto;
  }
</style>









    

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  </head>

  <body x-data="{
    flip: false,
  }">
    
    <div id="dream-global-bg"></div>

    
<nav class="mt-4 lg:mt-8 py-4">

  
  <div class="container flex justify-between px-4">
  
    <section class="flex items-center gap-4">
      <div class="avatar cursor-pointer hover:online" @click="flip = !flip" title="Flip it!">
        <div class="h-10 rounded-full">
          <img src="/cat.png" alt="Joanna&#39;s Bolg" />
        </div>
      </div>

      
      <div>
        
        <a href="/" class="text-lg font-semibold cursor-pointer">
          Joanna&#39;s Bolg
        </a>
        
        
      </div>
      
    </section>

    <div class="dropdown dropdown-end sm:hidden">
      <div tabindex="0" role="button" class="btn btn-ghost btn-square" aria-label="Select an option">
        <ion-icon name="menu" class="text-2xl"></ion-icon>
      </div>
      <ul tabindex="0" class="dropdown-content menu w-36 bg-base-100 rounded-box z-[1] shadow-md">
        


<li>
  <div role="link" tabindex="0" class="inline-flex items-center p-2 cursor-pointer" @click="flip = !flip" title="About">
    <ion-icon name="information-circle"></ion-icon>About</div>
</li>





















<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/posts" title="Archives">
    <ion-icon name="archive"></ion-icon>
    Archives
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/categories" title="All Categories">
    <ion-icon name="grid"></ion-icon>
    All Categories
  </a>
</li>




<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/tags" title="All Tags">
    <ion-icon name="pricetags"></ion-icon>
    All Tags
  </a>
</li>






      </ul>
    </div>
    <section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4">
      
      
      
      <div role="link" tabindex="0" class="text-sm font-semibold cursor-pointer hover:underline" @click="flip = !flip" title="About">About</div>
      
      

      
      

      

      
      





      
      





      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/posts" title="Archives">
  <ion-icon class="group-hover:text-primary-content" name="archive"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/categories" title="All Categories">
  <ion-icon class="group-hover:text-primary-content" name="grid"></ion-icon>
</a>


      
      
<a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/tags" title="All Tags">
  <ion-icon class="group-hover:text-primary-content" name="pricetags"></ion-icon>
</a>


      

      

      
    </section>
  </div>
</nav>


    <div class="flip-container" :class="{ 'flip-it': flip }">
      <div class="flipper">
        <div class="front">
          <div class="container">
            
<div class="mt-4 px-4">
  
  <div class="relative" x-data="{ height: '' }" x-init="height = $el.scrollHeight + 'px'">
  
    
    <div class="absolute right-0 lg:w-36 xl:w-48 hidden lg:block" :style="{ height }">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#ä¸²æ¥å‰æº–å‚™">ä¸²æ¥å‰æº–å‚™</a>
      <ul>
        <li><a href="#1google-map-api">1.Google Map Api</a></li>
        <li><a href="#2å®‰è£å¥—ä»¶">2.å®‰è£å¥—ä»¶</a></li>
      </ul>
    </li>
    <li><a href="#å°æ¸¬è©¦">å°æ¸¬è©¦</a></li>
    <li><a href="#ä¸²æ¥è³‡æ–™åº«">ä¸²æ¥è³‡æ–™åº«</a>
      <ul>
        <li><a href="#ç’°å¢ƒè®Šæ•¸">ç’°å¢ƒè®Šæ•¸</a></li>
        <li><a href="#åŠŸèƒ½è¨­å®š">åŠŸèƒ½è¨­å®š</a></li>
      </ul>
    </li>
    <li><a href="#é¡å¤–åŠŸèƒ½">é¡å¤–åŠŸèƒ½</a>
      <ul>
        <li><a href="#å…¶ä»–åŠŸèƒ½">å…¶ä»–åŠŸèƒ½</a></li>
        <li><a href="#åƒè€ƒè³‡æº">åƒè€ƒè³‡æº</a></li>
      </ul>
    </li>
  </ul>
</nav>

      <div class="dream-adsense px-5">
      
      </div>
    </div>
    
    <article class="mx-auto prose prose-quoteless dark:prose-invert" id="dream-single-post-main" itemscope itemtype="http://schema.org/Article">
      
  <meta itemprop="name" content="Google Map ">
  <meta itemprop="description" content="ä¸²æ¥Google Map é¡¯ç¤ºèšæœƒåœ°é»">
  <meta itemprop="datePublished" content="2024-12-31T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-12-31T00:00:00+00:00">
  <meta itemprop="wordCount" content="1986">
  <meta itemprop="keywords" content="Project">

      <header>
        <h1 itemprop="headline">Google Map </h1>
        <p class="text-sm">
          
            Tuesday, Dec 31, 2024
          

          | <span>4 minute read</span>

          
          | <span>Updated at
            
              Tuesday, Dec 31, 2024
            </span>
          
        </p>
        <div class="flex justify-between">
          <div class="flex items-center">
  
  <span>@</span>
  

  <span itemprop="author" itemscope itemtype="https://schema.org/Person">
  
    
      <span itemprop="name">Joanna Lei</span>
    
  
  </span>
</div>


          <div class="flex items-center gap-2">
  
  

  
  
  
  
  
    <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary"
      href="https://x.com/intent/post?text=Google%20Map%20&amp;url=/posts/18th-googlemap/" target="_blank" rel="noopener noreferrer"
      title="Share on X">
      <ion-icon class="group-hover:text-primary-content" name="logo-x"></ion-icon>
    </a>
  
    <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary"
      href="https://facebook.com/sharer/sharer.php?u=/posts/18th-googlemap/" target="_blank" rel="noopener noreferrer"
      title="Share on Facebook">
      <ion-icon class="group-hover:text-primary-content" name="logo-facebook"></ion-icon>
    </a>
  
    <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary"
      href="https://wa.me/?text=Google%20Map%20%20/posts/18th-googlemap/" target="_blank" rel="noopener noreferrer"
      title="Share on WhatsApp">
      <ion-icon class="group-hover:text-primary-content" name="logo-whatsapp"></ion-icon>
    </a>
  

  
  
</div>

        </div>
      </header>

      
      <img src="/img/map.png" alt="Google Map " />
      

      <p>ä¸²æ¥Google Map é¡¯ç¤ºèšæœƒåœ°é»</p>
<p>åœ¨é€™ç¯‡è¦ä¾†ä»‹ç´¹ï¼Œå¦‚ä½•åœ¨ä½¿ç”¨Djangoçš„æ¡†æ¶ä¸‹ï¼Œè¨­å®šä¸²æ¥Google Map<br>
ç°¡å–®çš„æ’å…¥ä¸€å€‹è¨­å®šå¥½åœ°å€çš„åœ°åœ–ä¸¦ä¸é›£ï¼Œä½†è¦æ¥è³‡æ–™åº«çš„åœ°å€ä¾†é¡¯ç¤ºï¼Œå°±éœ€è¦åšä¸€äº›è¨­å®š<br>
åœ¨å˜—è©¦æ•¸æ¬¡å¤±æ•—ï¼Œå¿ƒç°æ„å†·çš„æ™‚å€™ï¼Œé‡æ–°è‚˜ç†æ€ç·’ï¼Œæ›´æ›è¼”åŠ©å·¥å…·ä¹‹å¾Œï¼Œçµ‚æ–¼æˆåŠŸè®“é é¢å±•ç¾å‡ºåœ°åœ–äº†<br>
ç•¶åœ°åœ–å®Œæ•´çš„æ¸²æŸ“å‡ºä¾†åœ¨é é¢ä¸Šï¼Œç•¶ä¸‹çš„å¿ƒæƒ…åªèƒ½èªªæ˜¯ï¼Œè¶…ï½ç´šï½é–‹ï½å¿ƒï½ğŸ’</p>
<p>æ¥ä¸‹ä¾†å°±åˆ†äº«æˆ‘çš„æˆæœçµ¦å¤§å®¶</p>
<h2 id="ä¸²æ¥å‰æº–å‚™">ä¸²æ¥å‰æº–å‚™</h2>
<p>åœ¨é–‹å§‹ä¹‹å‰ï¼Œæˆ‘å€‘æœƒéœ€è¦æº–å‚™å¥½ä¸‹é¢çš„æ¢ä»¶ï¼š</p>
<h3 id="1google-map-api">1.Google Map Api</h3>
<p><a href="https://developers.google.com/maps?authuser=1&amp;hl=zh-tw">Google Maps Platform</a><br>
è«‹å…ˆåˆ°Google mapså®˜ç¶²ï¼Œç”³è«‹å¸³è™Ÿå¾Œï¼Œå»ºç«‹å°ˆæ¡ˆä¸¦å–å¾—APIï¼Œé€™éƒ¨åˆ†çš„æ“ä½œç›¸å°ç°¡å–®ï¼Œä¹Ÿå¾ˆå¤šè³‡æºä»‹ç´¹ï¼Œæš«ä¸”é€™é‚Šå°±ä¸è´…è¿°ï¼Œå¾Œé¢æœ‰æ™‚é–“å†è£œé½Šã€‚</p>
<p>è¦æ³¨æ„çš„æ˜¯ï¼ŒGoogle mapsçš„å°ˆæ¡ˆï¼Œæ˜¯éœ€è¦ç¶å®šä¿¡ç”¨å¡çš„ï¼ŒåŸºæœ¬ä¸Šåœ¨ä¸€å®šçš„ä½¿ç”¨é‡ä¹‹å…§ï¼Œæ˜¯ä¸éœ€è¦é¡å¤–ä»˜è²»çš„ã€‚é™¤éè¶…éä½¿ç”¨é‡æˆ–æ˜¯éœ€è¦ç”¨åˆ°æ›´é€²éšçš„åŠŸèƒ½ï¼Œæ‰æœƒéœ€è¦ä»˜è²»ã€‚<br>
å¥½æ¶ˆæ¯æ˜¯ï¼Œé€™æ¬¡ä½¿ç”¨google mapåŠŸèƒ½ï¼Œéƒ½æ˜¯åœ¨å…ä»˜è²»çš„ç¯„åœã€‚</p>
<h3 id="2å®‰è£å¥—ä»¶">2.å®‰è£å¥—ä»¶</h3>
<ul>
<li>åœ¨Djangoä¸­æ˜¯ä½¿ç”¨Pythonèªæ³•ï¼Œè€Œgoogle mapè¨­å®šæœƒä½¿ç”¨çš„çš„æ˜¯JavaScriptèªæ³•ï¼Œå› æ­¤é€™é‚Šæœƒå®‰è£æ‰“åŒ…å™¨<code>esduild</code>ï¼Œå°‡.jsæª”æ¡ˆæ‰“åŒ…å¾Œï¼Œå†åŒ¯å…¥htmlä¸­ã€‚</li>
</ul>
<p>é€™é‚Šéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé›–ç„¶åœ¨ä¸€èˆ¬ä¾†èªªåœ¨htmlæª”è£¡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<!-- raw HTML omitted -->æ”¾å…¥æŒ‡ä»¤ï¼Œä½†åœ¨Djangoè£¡çš„htmlæ˜¯åƒä¸åˆ°python or js èªæ³•çš„ã€‚</p>
<pre tabindex="0"><code>npm install esbuild
</code></pre><ul>
<li>å¦å¤–ï¼Œå› ç‚ºæœƒä½¿ç”¨åˆ°API KEYï¼Œæˆ‘å€‘ä¸å¸Œæœ›é¡¯ç¤ºåœ¨å‰ç«¯è¢«å…¶ä»–äººç©çˆ†ğŸ˜ï¼Œæ‰€ä»¥è¦å°‡KEYæ”¾åœ¨ç’°å¢ƒè®Šæ•¸ä¸­ï¼Œé€™æ™‚å€™æœƒéœ€è¦å¥—ä»¶<code>python-dotenv</code>å»è®€å–ï¼Œå¦‚æœå·²ç¶“æœ‰å®‰è£çš„é€™é‚Šå¯ä»¥ç•¥éï¼Œ</li>
</ul>
<pre tabindex="0"><code>poetry add python-dotenv
</code></pre><h2 id="å°æ¸¬è©¦">å°æ¸¬è©¦</h2>
<p>åœ¨é€™é‚Šï¼Œå°‡æœƒä½¿ç”¨åˆ°ä¸Šé¢ç”³è«‹å¥½çš„ä¹‹å¾Œçš„API KEYï¼Œå¦‚æœé‚„æ²’è¤‡è£½çš„å¯ä»¥åˆ°é€™å€‹é é¢è¤‡è£½ï¼š
<img src="/images/map_key.jpg" alt="google map api key"></p>
<p>é€™å€‹æ¸¬è©¦æ˜¯ç¢ºèªAPI KEY å¸¶å…¥å¾Œèƒ½æˆåŠŸæ¸²æŸ“åœ°åœ–å‡ºä¾†ï¼Œåœ°åœ–çš„åœ°å€æ˜¯å›ºå®šçš„ï¼Œå¦‚æœä¸éœ€è¦çš„å¯ä»¥è·³éæ­¤æ­¥é©Ÿã€‚</p>
<p>æˆ‘å€‘åˆ°é é¢ä¸Šçš„ç¸½è¦½ï¼Œé€²å»æœƒå‡ºç¾<code>è©¦ç”¨API</code>
<img src="/images/map_try1.jpg" alt="google map try1"></p>
<p>æœƒå‡ºç¾è¼¸å…¥åœ°å€çš„æ¡†ï¼Œè¼¸å…¥ä¸€å€‹åœ°å€ï¼Œæœƒå‡ºç¾è¼¸å…¥çš„ä½ç½®åœ°åœ–
<img src="/images/map_try2.jpg" alt="google map try2"></p>
<p>å¦‚æœæ²’æœ‰ç›´æ¥é¡¯ç¤ºç´…è‰²åœ°æ¨™ğŸ“ï¼Œéœ€è¦åœ¨åœ°åœ–ä¸‹æ–¹æŒ‰ç¢ºèªã€‚è‹¥ç¢ºèªä½å€ä¸‹æ–¹å°±æœƒå‡ºç¾ç¨‹å¼ç¢¼æ¨™ç±¤
<img src="/images/map_try3.jpg" alt="google map try3"></p>
<p>å¾€ä¸‹æ‹‰å¯ä»¥çœ‹åˆ°ç¨‹å¼ç¢¼ï¼Œå¿…è¦æ”¾å…¥çš„æ˜¯ä¸‰å€‹ç®­é ­æŒ‡åˆ°çš„åœ°æ–¹
<img src="/images/map_try4.jpg" alt="google map try4"></p>
<p>ä¾ç…§æŒ‡ç¤ºï¼Œå°‡scriptä¸­çš„<code>YOUR_API_KEY_HERE</code>æ›¿æ›æˆè‡ªå·±çš„API KEY</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">script</span> <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY_HERE&amp;callback=console.debug&amp;libraries=maps,marker&amp;v=beta&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/script&gt;</span>
</span></span></code></pre></div><p>å°‡ç¨‹å¼ç¢¼æ”¾å…¥ä¹‹å¾Œï¼Œå°±å¯ä»¥åœ¨é é¢ä¸Šçœ‹åˆ°åœ°åœ–äº†</p>
<h2 id="ä¸²æ¥è³‡æ–™åº«">ä¸²æ¥è³‡æ–™åº«</h2>
<p>å°è©¦ç‰›åˆ€ä¹‹å¾Œï¼Œè¦ä¾†è®“google map å¯ä»¥é¡¯ç¤ºæˆ‘å€‘è³‡æ–™åº«è£¡é¢çš„åœ°å€
æœƒç·¨è¼¯åˆ°çš„æª”æ¡ˆæœ‰ï¼š</p>
<ul>
<li>ç’°å¢ƒè®Šæ•¸- <code>settings</code>ã€<code>.env</code>ã€<code>.env.example</code></li>
<li>åŠŸèƒ½è¨­å®š- <code>models.py</code>ã€<code>views.py</code>ã€<code>urls.py</code>ã€<code>map.js</code>ã€<code>map.html</code></li>
</ul>
<h3 id="ç’°å¢ƒè®Šæ•¸">ç’°å¢ƒè®Šæ•¸</h3>
<p>å…ˆæŠŠé‡è¦çš„API KEYæ”¾å…¥ç’°å¢ƒè®Šæ•¸ä¹‹ä¸­ï¼Œé¿å…å¾ŒçºŒæ“ä½œæ™‚å¿˜è¨˜æ‹”æ‰ï¼Œä¸å°å¿ƒå°‡æª”æ¡ˆå‚³åˆ°å…¬é–‹ç¶²åŸŸçš„è©±ï¼Œå¾Œæœå¯èƒ½æœƒå¾ˆåš´é‡çš„ã€‚</p>
<h4 id="1å°‡api-keyæ”¾å…¥env">1.å°‡API KEYæ”¾å…¥<code>.env</code></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>GOOGLE_MAPS_API_KEY<span style="color:#f92672">=</span> YOUR_KEY
</span></span></code></pre></div><h4 id="2åœ¨envexampleåŠ å…¥è®Šæ•¸">2.åœ¨<code>.env.example</code>åŠ å…¥è®Šæ•¸</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>GOOGLE_MAPS_API_KEY
</span></span></code></pre></div><h4 id="3åœ¨setting-å°å…¥ç’°å¢ƒè®Šæ•¸">3.åœ¨<code>setting</code> å°å…¥ç’°å¢ƒè®Šæ•¸</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> dotenv <span style="color:#f92672">import</span> load_dotenv
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>load_dotenv()
</span></span><span style="display:flex;"><span>GOOGLE_MAPS_API_KEY <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>getenv(<span style="color:#e6db74">&#34;GOOGLE_MAPS_API_KEY&#34;</span>)
</span></span></code></pre></div><h3 id="åŠŸèƒ½è¨­å®š">åŠŸèƒ½è¨­å®š</h3>
<p>æ¥ä¸‹ä¾†é€²å…¥æ­£å¼çš„è¨­å®š</p>
<h4 id="1é¦–å…ˆåœ¨modelspyä¸­éœ€è¦æœ‰å€‹æ¬„ä½è£åœ°å€">1.é¦–å…ˆåœ¨<code>models.py</code>ä¸­ï¼Œéœ€è¦æœ‰å€‹æ¬„ä½è£åœ°å€</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#f92672">from</span> django.db <span style="color:#f92672">import</span> models
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Event</span>(models<span style="color:#f92672">.</span>Model):
</span></span><span style="display:flex;"><span>  title <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>  address <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">255</span>, help_text<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;èšæœƒåœ°å€ï¼Œä¾‹ï¼šå°åŒ—å¸‚ä¿¡ç¾©å€å¸‚åºœè·¯1è™Ÿ&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">def</span> __str__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>title   
</span></span></code></pre></div><h4 id="2viewspy-è¨­å®šåŠŸèƒ½">2.<code>views.py</code> è¨­å®šåŠŸèƒ½</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#f92672">from</span> django.shortcuts <span style="color:#f92672">import</span> render, get_object_or_404
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .models <span style="color:#f92672">import</span> Event
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">event_detail</span>(request, event_id):
</span></span><span style="display:flex;"><span>    event <span style="color:#f92672">=</span> get_object_or_404(Event, id<span style="color:#f92672">=</span>event_id)
</span></span><span style="display:flex;"><span>    google_maps_api_key <span style="color:#f92672">=</span> settings<span style="color:#f92672">.</span>GOOGLE_MAPS_API_KEY
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> render(request, <span style="color:#e6db74">&#39;information.html&#39;</span>, {<span style="color:#e6db74">&#39;event&#39;</span>: event, <span style="color:#e6db74">&#39;google_maps_api_key&#39;</span>: google_maps_api_key,})
</span></span></code></pre></div><h4 id="3æ›ä¸Šè·¯å¾‘urlpy">3.æ›ä¸Šè·¯å¾‘<code>url.py</code></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#f92672">from</span> django.urls <span style="color:#f92672">import</span> path
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .views <span style="color:#f92672">import</span> event_detail
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>urlpatterns <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;event/&lt;int:event_id&gt;/&#39;</span>, event_detail, name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;event_detail&#39;</span>),
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><h4 id="4åœ¨htmlç½®å…¥">4.åœ¨<code>html</code>ç½®å…¥ã€‚</h4>
<p>åœ¨Djangoå°ˆæ¡ˆä¸­çš„<code>html</code>ä½¿ç”¨jinjaèªæ³•ï¼Œé‡è¤‡çš„æŒ‡ä»¤å·²æ‹†å‡ºè‡³<code>layout.html</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{% extends &#34;base/layout.html&#34; %}
</span></span><span style="display:flex;"><span>{% load static %}
</span></span><span style="display:flex;"><span>{% block head %}
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://maps.googleapis.com/maps/api/js?key={{google_maps_api_key}}&amp;callback=initMap&amp;loading=async&#34;</span> <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">defer</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{% static &#39;src/map.js&#39; %}&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>{% endblock head %}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{% block content %}
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">h1</span>&gt;{{ event.title }}&lt;/<span style="color:#f92672">h1</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;map&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;height: 300px; width: 100%;&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hidden&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;address&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ activity.address|escapejs }}&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>{% endblock content %}
</span></span></code></pre></div><h4 id="5mapjsåšgoogle-mapè¨­å®šè®“åœ°å€èƒ½ä»¥mapæ–¹å¼å‘ˆç¾">5.<code>map.js</code>åšgoogle mapè¨­å®šï¼Œè®“åœ°å€èƒ½ä»¥mapæ–¹å¼å‘ˆç¾ï¼š</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>window.<span style="color:#a6e22e">initMap</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">address</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;address&#39;</span>).<span style="color:#a6e22e">value</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">geocoder</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">google</span>.<span style="color:#a6e22e">maps</span>.<span style="color:#a6e22e">Geocoder</span>();
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">geocoder</span>.<span style="color:#a6e22e">geocode</span>({ <span style="color:#e6db74">&#39;address&#39;</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">address</span> }, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">results</span>, <span style="color:#a6e22e">status</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;OK&#39;</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">map</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">google</span>.<span style="color:#a6e22e">maps</span>.<span style="color:#a6e22e">Map</span>(document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;map&#39;</span>), {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">zoom</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">15</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">center</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">results</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">geometry</span>.<span style="color:#a6e22e">location</span>
</span></span><span style="display:flex;"><span>            });
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">google</span>.<span style="color:#a6e22e">maps</span>.<span style="color:#a6e22e">marker</span>.<span style="color:#a6e22e">AdvancedMarkerElement</span>({
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">position</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">results</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">geometry</span>.<span style="color:#a6e22e">location</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">map</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">map</span>
</span></span><span style="display:flex;"><span>            });
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;Geocode was not successful for the following reason: &#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">status</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h4 id="6å°‡mapjsæ‰“åŒ…">6.å°‡<code>map.js</code>æ‰“åŒ…</h4>
<p>åœ¨<code>package.jason</code>è¨­å®šæŒ‡ä»¤å’Œæ‰“æ‹‹å‡ºå»çš„æª”æ¡ˆè·¯å¾‘</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;scripts&#34;</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e6db74">&#34;map&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;esbuild ./src/script/map.js --bundle --outfile=static/src/map.js&#34;</span>,
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>åŸ·è¡Œæ‰“åŒ…</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">run</span> <span style="color:#a6e22e">map</span>
</span></span></code></pre></div><h4 id="7-mainjs">7. <code>main.js</code></h4>
<p>ç”±æ–¼å°ˆæ¡ˆä¸€é–‹å§‹ï¼Œè¨­å®šäº†<code>main.js</code>ï¼Œå¾Œé¢ç‚ºç®¡ç†æ–¹ä¾¿ï¼Œæˆ‘å°‡googls mapéœ€è¦è¨­å®šjsæŒ‡ä»¤ï¼Œå¦å¤–é–‹äº†æª”æ¡ˆæ”¾ç½®ï¼Œä½†åœ¨å¯¦éš›åŸ·è¡Œæ™‚ï¼Œç¶²é ç„¡æ³•æ¸²æŸ“å‡ºåœ°åœ–çš„éƒ¨åˆ†ï¼Œé€²å…¥ç¶²é <code>æª¢æŸ¥&gt;console</code>ç™¼ç¾éŒ¯èª¤è¨Šæ¯é¡¯ç¤ºï¼Œ
åœ¨<code>main.js</code>è£¡<code>initMap is not a function</code>å› æ­¤å°‡<code>map.js</code>åŒ¯å…¥ <code>main.js</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">initMap</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./map&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">initMap</span>(); 
</span></span></code></pre></div><h4 id="8å®Œæˆ">8.å®Œæˆ</h4>
<p>ä¸Šé¢è¨­å®šOKçš„è©±ï¼Œå°±æœƒåœ¨é é¢çœ‹åˆ°åœ°åœ–è¢«æ¸²æŸ“å‡ºä¾†å›‰
è€Œä¸”é‚„æ˜¯è³‡æ–™åº«è£¡é¢çš„åœ°å€å‘¢ï¼Œéš¨è‘—æ¯ç­†è³‡æ–™ä¸åŒï¼Œä¹Ÿæœƒè·Ÿè‘—é¡¯ç¤ºå°æ‡‰çš„åœ°åœ–ã€‚
å¦‚æœç›®å‰è³‡æ–™åº«è£¡é¢æ²’æœ‰è³‡æ–™ï¼Œè¨˜å¾—å…ˆå»è³‡æ–™åº«å»ºç«‹å¥½è³‡æ–™ä¹‹å¾Œï¼Œåœ¨å›ä¾†æ¸¬è©¦ã€‚
<img src="/images/map_ok.jpg" alt="google map show on page"></p>
<h2 id="é¡å¤–åŠŸèƒ½">é¡å¤–åŠŸèƒ½</h2>
<p>åœ¨æ‰¾è³‡æ–™çš„æ™‚å€™ï¼Œç™¼ç¾é™¤äº†é¡¯ç¤ºåœ°æ¨™ä¹‹å¤–ï¼Œå¦æœ‰å¹¾å€‹åŠŸèƒ½å¯ä»¥æå‡UXï¼Œä¹‹å¾Œæœ‰æ™‚é–“å¯¦éš›æ“ä½œï¼Œå†æŠŠè©³ç´°çš„æ­¥é©Ÿæ”¾æ•´ç†æˆæ–‡ç« æ”¾ä¸Šä¾†ã€‚<br>
é€™é‚Šå°±å…ˆåˆ—èˆ‰åŠŸèƒ½ï¼†åƒè€ƒå½±ç‰‡</p>
<h3 id="å…¶ä»–åŠŸèƒ½">å…¶ä»–åŠŸèƒ½</h3>
<ul>
<li>é¡¯ç¤ºä½¿ç”¨è€…ç›®å‰ä½ç½®</li>
<li>é¡¯ç¤ºç·šè·¯ï¼ˆç›®å‰ä½ç½®-ç›®çš„åœ°ä½ç½®ï¼‰</li>
</ul>
<h3 id="åƒè€ƒè³‡æº">åƒè€ƒè³‡æº</h3>
<p><a href="https://www.youtube.com/watch?v=5DBFS1FHkRg">Google map åŠŸèƒ½ä¸²æ¥ä»‹ç´¹-1(è‹±æ–‡)</a><br>
<a href="https://www.youtube.com/watch?v=DCmxC0NyfrA">Google map åŠŸèƒ½ä¸²æ¥ä»‹ç´¹-2(è‹±æ–‡)</a><br>
<a href="https://www.youtube.com/watch?v=oT-iIgNuQZw">Google map åŠŸèƒ½ä¸²æ¥ä»‹ç´¹-3(è‹±æ–‡)</a><br>
<a href="https://www.youtube.com/watch?v=sasx2ppol5c&amp;t=20s">Google map åŠŸèƒ½ä¸²æ¥ä»‹ç´¹-4(è‹±æ–‡)</a></p>

      
      <div class="divider"></div>
      <div class="flex flex-col md:flex-row justify-between gap-4 py-4">
        
        <a class="group btn btn-outline" href="/posts/candy/" title="ç³–æœé¡Œ">
          <ion-icon name="chevron-back"></ion-icon>
          <div class="inline-flex flex-col items-start">
            <span class="text-base-content/60 group-hover:text-neutral-content/60 text-xs font-normal">Previous page</span>
            <span class="max-w-48 truncate">ç³–æœé¡Œ</span>
          </div>
        </a>
        

        
        <a class="group btn btn-outline" href="/posts/18th-linepayapi/" title="Line Pay Apiä¸²æ¥">
          <div class="inline-flex flex-col items-end">
            <span class="text-base-content/60 group-hover:text-neutral-content/60 text-xs font-normal">Next page</span>
            <span class="max-w-48 truncate">Line Pay Apiä¸²æ¥</span>
          </div>
          <ion-icon name="chevron-forward"></ion-icon>
        </a>
        
      </div>
      
    </article>
  </div>

  
</div>


            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>
    Â© 2024 - 2025 Joanna&#39;s Blog
  </p>
  

  
  <p>ğŸŒŸ A Hugo theme named Dream</p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'moon', status: 'y' },
    { name: 'sunny', status: 'n' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center h-[32px] px-2 gap-2 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
        <div class="back">
          <div class="container">
            
            <div class="dream-grid dream-grid-about">
  
  
  
  <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column">
    <article
      class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl dark:border dark:border-base-content/30"
    >
      <div class="card-body">
        <div class="card-title">About Me</div>

        <div class="prose dark:prose-invert">
          <p>Hello I&rsquo;m Joanna, this is my blog</p>
<p>æˆ‘æœƒåœ¨é€™é‚Šåˆ†äº«æˆ‘å­¸ç¿’ç¨‹å¼èªè¨€çš„å¿ƒå¾—èˆ‡ç­†è¨˜</p>
        </div>
      </div>
    </article>
  </div>
  
  

  

  
</div>

            

            
<footer class="flex justify-between items-center gap-2 px-4 py-12">

  <div>
  
  <p>
    Â© 2024 - 2025 Joanna&#39;s Blog
  </p>
  

  
  <p>ğŸŒŸ A Hugo theme named Dream</p>
  
</div>

  <div
  x-data="{ icons: [
    { name: 'moon', status: 'y' },
    { name: 'sunny', status: 'n' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center h-[32px] px-2 gap-2 border border-base-content/30 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      :aria-label="'Select ' + icon.name + ' mode'"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

</footer>

          </div>
        </div>
      </div>
    </div>

    <script>
  window.lightTheme = "emerald"
  window.darkTheme = "forest"
</script>


  <script src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>

  
  
    
  
  <script src="/js/grid.min.js"></script>




  

<script src="/js/main.min.js"></script>

    







    

    

    

    <script type="module" src="https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.js"></script>
  </body>
</html>
